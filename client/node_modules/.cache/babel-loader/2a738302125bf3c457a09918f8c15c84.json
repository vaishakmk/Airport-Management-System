{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\prern\\\\source\\\\repos\\\\gopinathsjsu\\\\team-project-gof\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\prern\\\\Source\\\\Repos\\\\gopinathsjsu\\\\team-project-gof\\\\client\\\\src\\\\screens\\\\Login\\\\Login.js\";\nimport React, { Component, useState } from 'react';\nimport { Redirect, useParams, useNavigate } from 'react-router-dom';\nimport { Form, Button } from 'react-bootstrap';\nimport axios from \"axios\";\nexport default function Login(props) {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    redirect = _useState6[0],\n    setRedirect = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    type = _useState8[0],\n    setType = _useState8[1];\n  var navigate = useNavigate();\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    fetch('http://localhost:5001/login', {\n      method: 'POST',\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({\n        email: username,\n        password: password\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      console.log(data);\n      console.log(data.airline_name);\n      if (data.usertype) {\n        //print user type\n        // navigate(\"/register\", { replace: true });    \n\n        //switch case for user type\n        switch (data.usertype) {\n          case \"passenger\":\n            navigate(\"/register\", {\n              replace: true\n            });\n            break;\n          case \"airport_employee\":\n            navigate(\"/register\", {\n              replace: true\n            });\n            break;\n          case \"airline_employee\":\n            var path = \"/airline/${data.airline_name}\";\n            navigate(path, {\n              replace: true\n            });\n            break;\n        }\n      }\n    }).catch(function (err) {\n      return console.log(err);\n    });\n\n    // const configuration = {\n    //     method: \"post\",\n    //     url: \"http://localhost:5001/login\",\n    //     data: {\n    //       email: username,\n    //       password,\n    //     },\n    //   };    \n\n    //   axios(configuration)\n    //   .then((result) => {\n    //     navigate(\"/register\", { replace: true })\n    //   })\n    //   .catch((error) => {\n    //     error = new Error();\n    //   });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Email Id \"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter Email\",\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \" Enter Password\",\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Submit\")));\n}","map":{"version":3,"names":["React","Component","useState","Redirect","useParams","useNavigate","Form","Button","axios","Login","props","username","setUsername","password","setPassword","redirect","setRedirect","type","setType","navigate","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","email","then","res","json","data","console","log","airline_name","usertype","replace","path","catch","err","target","value"],"sources":["C:/Users/prern/Source/Repos/gopinathsjsu/team-project-gof/client/src/screens/Login/Login.js"],"sourcesContent":["\r\n\r\nimport React, { Component,useState } from 'react';\r\nimport { Redirect,useParams, useNavigate } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport axios from \"axios\";\r\n\r\nexport default function Login(props) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [type,setType] = useState(null);\r\n\r\n  const navigate = useNavigate();\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    fetch('http://localhost:5001/login', {\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\"\r\n        },\r\n        body: JSON.stringify({\r\n            email: username,\r\n            password: password\r\n        })\r\n    })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n        console.log(data);\r\n        console.log(data.airline_name);\r\n        \r\n        if(data.usertype){\r\n            //print user type\r\n            // navigate(\"/register\", { replace: true });    \r\n\r\n            //switch case for user type\r\n            switch(data.usertype){\r\n                case \"passenger\":\r\n                    navigate(\"/register\", { replace: true });\r\n                    break;\r\n                case \"airport_employee\":\r\n                    navigate(\"/register\", { replace: true });\r\n                    break;\r\n                case \"airline_employee\":\r\n                    let path = \"/airline/${data.airline_name}\"\r\n                    navigate(path, { replace: true });\r\n                    break;               \r\n            }\r\n\r\n\r\n        }\r\n    })\r\n    .catch(err => console.log(err));\r\n\r\n    // const configuration = {\r\n    //     method: \"post\",\r\n    //     url: \"http://localhost:5001/login\",\r\n    //     data: {\r\n    //       email: username,\r\n    //       password,\r\n    //     },\r\n    //   };    \r\n\r\n    //   axios(configuration)\r\n    //   .then((result) => {\r\n    //     navigate(\"/register\", { replace: true })\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     error = new Error();\r\n    //   });\r\n            \r\n    }    \r\n\r\n    \r\n return (\r\n    <div>      \r\n        <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Email Id </Form.Label>\r\n                <Form.Control type=\"text\" placeholder=\"Enter Email\" onChange={e => setUsername(e.target.value)}/>\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" placeholder=\" Enter Password\" onChange={e => setPassword(e.target.value)}/>\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n                Submit\r\n            </Button>\r\n            </Form> \r\n    </div>\r\n    )\r\n }\r\n\r\n"],"mappings":";;AAEA,OAAOA,KAAK,IAAIC,SAAS,EAACC,QAAQ,QAAQ,OAAO;AACjD,SAASC,QAAQ,EAACC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AAClE,SAASC,IAAI,EAAEC,MAAM,QAAQ,iBAAiB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,KAAK,CAACC,KAAK,EAAE;EAAA,gBACHR,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCS,QAAQ;IAAEC,WAAW;EAAA,iBACIV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCW,QAAQ;IAAEC,WAAW;EAAA,iBACIZ,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAxCa,QAAQ;IAAEC,WAAW;EAAA,iBACLd,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA9Be,IAAI;IAACC,OAAO;EAEnB,IAAMC,QAAQ,GAAGd,WAAW,EAAE;EAC9B,IAAMe,YAAY,GAAG,SAAfA,YAAY,CAAIC,CAAC,EAAK;IAC1BA,CAAC,CAACC,cAAc,EAAE;IAClBC,KAAK,CAAC,6BAA6B,EAAE;MACjCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,KAAK,EAAElB,QAAQ;QACfE,QAAQ,EAAEA;MACd,CAAC;IACL,CAAC,CAAC,CACDiB,IAAI,CAAC,UAAAC,GAAG;MAAA,OAAIA,GAAG,CAACC,IAAI,EAAE;IAAA,EAAC,CACvBF,IAAI,CAAC,UAAAG,IAAI,EAAI;MACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACG,YAAY,CAAC;MAE9B,IAAGH,IAAI,CAACI,QAAQ,EAAC;QACb;QACA;;QAEA;QACA,QAAOJ,IAAI,CAACI,QAAQ;UAChB,KAAK,WAAW;YACZlB,QAAQ,CAAC,WAAW,EAAE;cAAEmB,OAAO,EAAE;YAAK,CAAC,CAAC;YACxC;UACJ,KAAK,kBAAkB;YACnBnB,QAAQ,CAAC,WAAW,EAAE;cAAEmB,OAAO,EAAE;YAAK,CAAC,CAAC;YACxC;UACJ,KAAK,kBAAkB;YACnB,IAAIC,IAAI,GAAG,+BAA+B;YAC1CpB,QAAQ,CAACoB,IAAI,EAAE;cAAED,OAAO,EAAE;YAAK,CAAC,CAAC;YACjC;QAAM;MAIlB;IACJ,CAAC,CAAC,CACDE,KAAK,CAAC,UAAAC,GAAG;MAAA,OAAIP,OAAO,CAACC,GAAG,CAACM,GAAG,CAAC;IAAA,EAAC;;IAE/B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;EAEA,CAAC;;EAGJ,oBACG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,IAAI;IAAC,QAAQ,EAAErB,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACzB,oBAAC,IAAI,CAAC,KAAK;IAAC,SAAS,EAAC,gBAAgB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAClC,oBAAC,IAAI,CAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAAuB,eAClC,oBAAC,IAAI,CAAC,OAAO;IAAC,IAAI,EAAC,MAAM;IAAC,WAAW,EAAC,aAAa;IAAC,QAAQ,EAAE,kBAAAC,CAAC;MAAA,OAAIT,WAAW,CAACS,CAAC,CAACqB,MAAM,CAACC,KAAK,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,CACxF,eACb,oBAAC,IAAI,CAAC,KAAK;IAAC,SAAS,EAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACrC,oBAAC,IAAI,CAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAAsB,eACjC,oBAAC,IAAI,CAAC,OAAO;IAAC,IAAI,EAAC,UAAU;IAAC,WAAW,EAAC,iBAAiB;IAAC,QAAQ,EAAE,kBAAAtB,CAAC;MAAA,OAAIP,WAAW,CAACO,CAAC,CAACqB,MAAM,CAACC,KAAK,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,CAChG,eAEb,oBAAC,MAAM;IAAC,OAAO,EAAC,SAAS;IAAC,IAAI,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAE9B,CACF,CACT;AAET"},"metadata":{},"sourceType":"module"}